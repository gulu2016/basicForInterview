### 来自复习文档
1.事务的ACID特性（2页）
   - 原子性：事物的所有操作要么全部提交成功，要么全部失败回滚
   - 一致性：所有事务对一个数据读取结果相同。
   - 隔离性：一个事务所做修改在最终提交前，对其他事务是不可见的
   - 持久性：事务一旦提交，将会永远保存到数据库中。

2.并发一致性问题：1写+3读（4页）
   - 丢失修改：A改，B改，A改
   - 读脏数据：脏读是指在一个事务处理过程里读取了另一个未提交的事务中的数据。A改，B读，A撤回
   - 不可重复读：一个事务范围内多次查询却返回了不同的数据值。A读，B改，A读
   - 幻影读：A读一组，B插入一条，A读一组

3.两种封锁粒度（8页）
   - 行级锁
   - 表级锁

4.锁的类型：（9页）
   - 读写锁：包括读锁和写锁（除了上读锁时候可以读以外，其他情况互斥）
   - 意向锁：X>S>IX>IS;X都不行,S对两个s可以（IS,S）,IX对I可以（IS,IX）,IS只对X不行

5.三级封锁协议（10-12页）
   - 一级封锁协议：事物对数据修改必须加X锁
   - 二级封锁协议：在一级基础上，读取数据要加S锁，读完释放
   - 三级封锁协议：在二级基础上，事物结束之后再释放（比二级延长了S锁时间）

6.隔离级别：4点（14页）[参考博客](https://www.cnblogs.com/qducn/p/6895819.html)
   - 未提交读：即使没有提交也可以被其他事务读（会出现的问题：<脏读<不可重复读<幻影读）
   - 提交读：只能读提交过的事务（会出现的问题：<不可重复读<幻影读）
   - 可重复读：同一事务读取相同数据是相同的，因为幻影读是针对一组数据的，所以会有幻读问题（会出现的问题：<幻影读）
   - 可串行化:事务串行化执行

7.范式（22页）
   [参考博客1](https://www.cnblogs.com/knowledgesea/p/3667395.html)
   [参考博客2](https://www.cnblogs.com/lca1826/p/6601395.html)
   - 第一范式：每一列属性都是不可再分的属性值
   - 第二范式：符合1NF，并且非主属性完全依赖于码（一行数据只做一件事）
   - 第三范式：符合2NF，并且消除传递依赖
   - 总结：符合第一范式就是属性不可分，好理解；符合第二范式就是所有属性都以主键为重心，类似一个太阳，所有行星
   围绕太阳转；符合第三范式是行星之间没有依赖关系，比如太阳和月亮是在一个表的，地球和太阳是一个表的，但是
   月亮和地球和太阳不能一起在一个表。


### 面试问题
1.写一下mysql binlog的数据格式，怎么进行数据清洗的 
	(1)Mysql binlog日志有三种格式，分别为Statement,MiXED,以及ROW！
		Statement：每一条会修改数据的sql都会记录在binlog中。
		Row:不记录sql语句上下文相关信息，仅保存哪条记录被修改。
		Mixedlevel: 是以上两种level的混合使用
	[参考博客](https://www.cnblogs.com/itcomputer/articles/5005602.html)
	（2）Mysql字符串截取函数SUBSTRING的用法说明
	[参考博客](https://www.cnblogs.com/xuchunlin/p/9993773.html)

2.写一个正则表达式进行手机号匹配 
	^[1][35678][0-9]{9}$
  	mysql必知必会p58

4.讲一下数据仓库层级的划分，每层的作用 
	（1）ODS（临时存储层）、PDW（数据仓库层）、MID（数据集市层）、APP（应用层）
	 ODS层：为临时存储层，是接口数据的临时存储区域，为后一步的数据处理做准备。ODS层的表通常包括两类，一个用于存储当前需要加载的数据，一个用于存储处理完后的历史数据。
	 PDW层：为数据仓库层，对源系统数据进行了清洗（去除了杂质）后的数据。
	 MID层：为数据集市层，这层数据是面向主题来组织数据的，通常是星形或雪花结构的数据
	 APP层：为应用层，这层数据是完全为了满足具体的分析需求而构建的数据，也是星形或雪花结构的数据。
	 （参考博客：https://blog.csdn.net/lvzhuyiyi/article/details/52057179）

5.设计学生成绩管理系统，符合第三范式要求，并绘出UML图 

6.讲讲数据库索引，B树和B+树
	（1）为什么采用B树或者b+树作为数据库索引
		数据库每次IO很耗费时间，减少IO次数可以提高效率，如果使用平衡二叉树，每一层就要进行一次IO，所以现在使用"矮胖"的树（B树或者B+树），每层存储更多数据，也就是减少IO次数。
	（2）B树的定义
		一个m阶的B树具有如下几个特征：
		1.根结点至少有两个子女。
		2.每个中间节点都包含k-1个元素和k个孩子，其中 m/2 <= k <= m
		3.每一个叶子节点都包含k-1个元素，其中 m/2 <= k <= m
		4.所有的叶子结点都位于同一层。
		5.每个节点中的元素从小到大排列，节点当中k-1个元素正好是k个孩子包含的元素的值域分划。
	（3）B+树定义
		一个m阶的B+树具有如下几个特征：
		1.有k个子树的中间节点包含有k个元素（B树中是k-1个元素），每个元素不保存数据，只用来索引，所有数据都保存在叶子节点。
		2.所有的叶子结点中包含了全部元素的信息，及指向含这些元素记录的指针，且叶子结点本身依关键字的大小自小而大顺序链接。
		3.所有的中间节点元素都同时存在于子节点，在子节点元素中是最大（或最小）元素。
	（4）B+树对于B树的区别
		结构：
			1.B树的数据分布在所有节点，B+数的数据只分布在叶子节点
			2.B数中间节点有k个元素，那么该节点有k+1个子节点；B+树中间节点有k个元素，该节点有k个子节点
		性能：
			1.单一节点存储更多的元素（没有存储卫星数据，这样该节点下分支变多了，树变矮胖了），使得查询的IO次数更少。
			2.所有查询都要查找到叶子节点，查询性能稳定。而B树找到即返回，有时会好于B+树，有时会比B+树坏，不稳定。
			3.所有叶子节点形成有序链表，便于范围查询。
	（参考博客https://blog.csdn.net/qq_35571554/article/details/82759668） 
	（参考博客https://blog.csdn.net/qq_35571554/article/details/82796278）
7.Elasticsearch的索引，单field索引和多field的联合索引

8.海量数据的Count问题（单机），如果把大文件hash成不同的小文件，此时小文件装不下某个key对应的数据，该怎么办 

10.讲讲数据库存储引擎 

11.介绍一下索引，索引设置的规则，聚簇索引和非聚簇索引的区别，索引的最左前缀原则 

12.用过redis吗，redis支持哪些数据类型，redis与mysql的区别 

13.讲讲数据库的范式 

14.自己设计表，写一个查询所有课程的成绩排前二的学生的id 


